---
previousText: 'æ·»åŠ ç§»åŠ¨ç‰ˆ'
previousUrl: '/docs/angular/your-first app/5-adding-mobile'
nextText: 'ä½¿ç”¨å®æ—¶é‡è½½å¿«é€Ÿå¼€å‘åº”ç”¨ç¨‹åº'
nextUrl: '/docs/angular/your-firstapp/7-live-reload'
---

# éƒ¨ç½²åˆ° iOS å’Œ Android

ç”±äºæˆ‘ä»¬æ˜¯åœ¨é¦–æ¬¡åˆ›å»ºCapacitoræ—¶å°†å…¶æ·»åŠ åˆ°é¡¹ç›®ä¸­çš„ï¼Œå› æ­¤åªæœ‰å‡ æ­¥ä¹‹é¥ï¼Œç›´åˆ°åœ¨æˆ‘ä»¬çš„è®¾å¤‡ä¸Šä½¿ç”¨Photo Galleryåº”ç”¨ç¨‹åºä¸ºæ­¢ï¼ è¯·è®°ä½ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ­¤åº”ç”¨çš„å®Œæ•´æºä»£ç  [](https://github.com/ionic-team/photo-gallery-capacitor-ng)ã€‚

## Capacitor è®¾ç½®

Capacitoræ˜¯Ionicçš„å®˜æ–¹è¿è¡Œæ—¶ï¼Œå®ƒä½¿å¾—åœ¨æœ¬åœ°å¹³å°å¦‚iOSã€Androidç­‰å®‰è£…ç½‘ç»œåº”ç”¨å˜å¾—å®¹æ˜“ã€‚ å¦‚æœæ‚¨ä»¥å‰ä½¿ç”¨è¿‡Cordovaï¼Œè¯·è€ƒè™‘é˜…è¯»æ›´å¤š [å·®å¼‚çš„ä¿¡æ¯](https://capacitor.ionicframework.com/docs/cordova#differences-between-capacitor-and-cordova) ã€‚

å¦‚æœæ‚¨ä»åœ¨ç»ˆç«¯ä¸­è¿è¡Œ `ionic service` ï¼Œè¯·å–æ¶ˆå®ƒã€‚ å®Œæˆä½ çš„Ionicé¡¹ç›®çš„æ–°æ„å»ºï¼Œä¿®å¤å®ƒæŠ¥å‘Šçš„é”™è¯¯ï¼š

```shell
$ ionic build
```

æ¥ä¸‹æ¥ï¼Œåˆ›å»ºiOSå’ŒAndroidé¡¹ç›®ï¼š

```shell
$ ionic cap add ios
$ ionic cap add android
```

é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ android å’Œ ios æ–‡ä»¶å¤¹éƒ½å·²åˆ›å»ºã€‚ è¿™äº›æ˜¯å®Œå…¨ç‹¬ç«‹çš„æœ¬åœ°é¡¹ç›®ï¼Œåº”è¢«è§†ä¸ºä½ çš„Ionicåº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†(å³ï¼šå°†å…¶æ£€å…¥æºä»£ç ç®¡ç†ï¼Œä½¿ç”¨å…¶æœ¬æœºå·¥å…·è¿›è¡Œç¼–è¾‘ç­‰)ã€‚

æ¯æ¬¡æ‚¨æ‰§è¡Œæ„å»º(ä¾‹å¦‚`ionic build`)æ¥æ›´æ–°æ‚¨çš„Webç›®å½•(é»˜è®¤å€¼ï¼š`www`)æ—¶ï¼Œéƒ½éœ€è¦å°†è¿™äº›æ›´æ”¹å¤åˆ¶åˆ°æœ¬åœ°é¡¹ç›®ä¸­ï¼š

```shell
$ ionic cap copy
```

æ³¨æ„ï¼šå¯¹ä»£ç çš„æœ¬æœºéƒ¨åˆ†è¿›è¡Œæ›´æ–° (ä¾‹å¦‚æ·»åŠ æ–°æ’ä»¶) åï¼Œè¯·ä½¿ç”¨`sync`å‘½ä»¤ï¼š

```shell
$ ionic cap sync
```

## iOS éƒ¨ç½²

> è¦æ„å»ºä¸€ä¸ª iOS åº”ç”¨ç¨‹åºï¼Œæ‚¨å°†éœ€è¦ä¸€ä¸ª Mac è‹¹æœç”µè„‘ã€‚

Capacitor iOS åº”ç”¨ç¨‹åºæ˜¯é€šè¿‡Xcode (Apple's iOS/Mac IDE) é…ç½®å’Œç®¡ç†çš„ï¼Œä¾èµ–å…³ç³»ç”±CocoaPod ç®¡ç†ã€‚ åœ¨ iOS è®¾å¤‡ä¸Šè¿è¡Œæ­¤åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæœ‰å‡ ä¸ªæ­¥éª¤è¦å®Œæˆã€‚

é¦–å…ˆï¼Œè¿è¡Œ Capacitor `open` å‘½ä»¤ï¼Œæ‰“å¼€Xcodeä¸­çš„åŸç”ŸiOSé¡¹ç›®ï¼š

```shell
$ ionic cap open ios
```

ä¸ºäº†ä½¿ä¸€äº›æœ¬åœ°æ’ä»¶èƒ½å¤Ÿå·¥ä½œï¼Œå¿…é¡»é…ç½®ç”¨æˆ·æƒé™ã€‚ åœ¨æˆ‘ä»¬çš„ç…§ç‰‡åº“åº”ç”¨ä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬ç›¸æœºæ’ä»¶ï¼šé¦–æ¬¡è°ƒç”¨`Camera.getPhoto()`åï¼ŒiOSä¼šè‡ªåŠ¨æ˜¾ç¤ºä¸€ä¸ªæ¨¡å¼å¯¹è¯æ¡†ï¼Œæç¤ºç”¨æˆ·å…è®¸è¯¥åº”ç”¨ä½¿ç”¨ç›¸æœºã€‚ é©±åŠ¨æ­¤æ“ä½œçš„æƒé™æ ‡è®°ä¸ºâ€œéšç§-ç›¸æœºä½¿ç”¨æƒ…å†µâ€ã€‚ è¦è¿›è¡Œè®¾ç½®ï¼Œå¿…é¡»ä¿®æ”¹`Info.plist`æ–‡ä»¶([æ›´å¤šè¯¦ç»†ä¿¡æ¯](https://capacitor.ionicframework.com/docs/ios/configuration)) ã€‚ è¦è®¿é—®å®ƒï¼Œè¯·ç‚¹å‡»"Info"ï¼Œç„¶åå±•å¼€"Custom iOS Target Properties"ã€‚

![Xcodeè‡ªå®šä¹‰iOSç›®æ ‡å±æ€§](/docs/assets/img/guides/first-app-cap-ng/xcode-info-plist.png)


`Info.plist`ä¸­çš„æ¯ä¸ªè®¾ç½®éƒ½æœ‰ä¸€ä¸ªä½çº§å‚æ•°åç§°å’Œä¸€ä¸ªé«˜çº§åç§°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå±æ€§åˆ—è¡¨ç¼–è¾‘å™¨ä¼šæ˜¾ç¤ºé«˜çº§åˆ«çš„åç§°ï¼Œä½†åˆ‡æ¢åˆ°æ˜¾ç¤ºä½çº§åç§°å¾€å¾€æ˜¯æœ‰ç”¨çš„ã€‚ è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·å³é”®å•å‡»å±æ€§åˆ—è¡¨ç¼–è¾‘å™¨ä¸­çš„ä»»ä½•ä½ç½®ï¼Œå¹¶åˆ‡æ¢"Raw Keys/Values"ã€‚

å®šä½åˆ°`NSCameraUsageDescription`é”® (å¦‚æœä½ ä¸€ç›´è·Ÿéšç€æœ¬æ•™ç¨‹ï¼Œå®ƒåº”è¯¥å·²ç»å­˜åœ¨) å¹¶è®¾ç½®å€¼æ¥æè¿°åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨ç›¸æœºçš„åŸå› ï¼Œ ä¾‹å¦‚"æ‹æ‘„ç…§ç‰‡"ã€‚å½“æƒé™æç¤ºæ‰“å¼€æ—¶ï¼Œå€¼çš„å­—æ®µå°†æ˜¾ç¤ºç»™Appç”¨æˆ·ã€‚

æ¥ç€ï¼Œç‚¹å‡»å·¦ä¾§é¡¹ç›®å¯¼èˆªå™¨ä¸­çš„ `App` ç„¶ååœ¨ `Signing & Capabilities` éƒ¨åˆ†ä¸­é€‰æ‹©æ‚¨çš„å¼€å‘å›¢é˜Ÿ.

![Xcode - é€‰æ‹©å¼€å‘å›¢é˜Ÿ](/docs/assets/img/guides/first-app-cap-ng/xcode-signing.png)

æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½åœ¨ä¸€ä¸ªçœŸæ­£çš„è®¾å¤‡ä¸Šè¯•ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å·²ç»é€‰æ‹©äº†å¼€å‘å›¢é˜Ÿï¼ å°† iOS è®¾å¤‡è¿æ¥åˆ°æ‚¨çš„ Mac è®¡ç®—æœºï¼Œ é€‰æ‹©å®ƒ(`App -> Matthew's iPhone`) ç„¶åç‚¹å‡»"Build"æŒ‰é’®è¿›è¡Œæ„å»ºï¼Œ å®‰è£…å¹¶åœ¨æ‚¨çš„è®¾å¤‡ä¸Šå¯åŠ¨åº”ç”¨ï¼š

![Xcode æ„å»ºæŒ‰é’®](/docs/assets/img/guides/first-app-cap-ng/xcode-build-button.png)

å½“ç‚¹å‡»ç…§ç‰‡åº“æ ‡ç­¾ä¸Šçš„ç›¸æœºæŒ‰é’®æ—¶ï¼Œæƒé™æç¤ºå°†è¢«æ˜¾ç¤ºã€‚ ç‚¹å‡»"OK"ï¼Œç„¶åä½¿ç”¨ç›¸æœºæ‹æ‘„ç…§ç‰‡ã€‚ ç„¶åè¿™å¼ ç…§ç‰‡ä¼šåœ¨åº”ç”¨ä¸­æ˜¾ç¤ºï¼

![iOS ç›¸æœºæƒé™](/docs/assets/img/guides/first-app-cap-ng/ios-permissions-photo.png)

## Android éƒ¨ç½²

Capacitor Android åº”ç”¨ç¨‹åºæ˜¯é€šè¿‡Android Studioé…ç½®å’Œç®¡ç†çš„ã€‚ åœ¨ Android è®¾å¤‡ä¸Šè¿è¡Œæ­¤åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œéœ€è¦å®Œæˆå‡ ä¸ªæ­¥éª¤ã€‚

é¦–å…ˆï¼Œè¿è¡Œ Capacitor `open` å‘½ä»¤ï¼Œæ‰“å¼€Android Studioçš„åŸç”ŸAndroidé¡¹ç›®ï¼š

```shell
$ ionic cap open android
```

ç±»ä¼¼iOSï¼Œæˆ‘ä»¬å¿…é¡»å¯ç”¨æ­£ç¡®çš„æƒé™æ‰èƒ½ä½¿ç”¨æ‘„åƒå¤´ã€‚ åœ¨ `AndroidManifest.xml` æ–‡ä»¶ä¸­é…ç½®å®ƒä»¬ã€‚ Android Studio å¾ˆå¯èƒ½ä¼šè‡ªåŠ¨æ‰“å¼€æ­¤æ–‡ä»¶ï¼Œä½†å¦‚æœå®ƒæ²¡æœ‰ï¼Œè¯·åœ¨ `android/app/src/main` ä¸‹æ‰¾åˆ°å®ƒã€‚

![Androidæ¸…å•ä½ç½®](/docs/assets/img/guides/first-app-cap-ng/android-manifest.png)

æ»šåŠ¨åˆ° `Permissions` éƒ¨åˆ†å¹¶ç¡®ä¿åŒ…å«è¿™äº›æ¡ç›®ï¼š

```xml
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```

ä¿å­˜æ–‡ä»¶ã€‚ æ‹¥æœ‰æƒé™ï¼Œæˆ‘ä»¬å·²å‡†å¤‡å¥½åœ¨çœŸæ­£çš„è®¾å¤‡ä¸Šè¯•è¯•åº”ç”¨ï¼ å°† Android è®¾å¤‡è¿æ¥åˆ°æ‚¨çš„ç”µè„‘ã€‚ åœ¨ Android Studio ä¸­ï¼Œå•å‡»"Run"æŒ‰é’®ï¼Œé€‰æ‹©é™„åŠ çš„ Android è®¾å¤‡ï¼Œç„¶åå•å‡»ç¡®å®šä»¥ç”Ÿæˆã€å®‰è£…å¹¶åœ¨æ‚¨çš„è®¾å¤‡ä¸Šå¯åŠ¨åº”ç”¨ç¨‹åºã€‚

![åœ¨ Android ä¸Šå¯åŠ¨åº”ç”¨ç¨‹åº](/docs/assets/img/guides/first-app-cap-ng/android-device.png)

å†æ¬¡ç‚¹å‡»ç›¸æœºé€‰é¡¹å¡ä¸Šçš„ç›¸æœºæŒ‰é’®æ—¶ï¼Œä¼šæ˜¾ç¤ºç›¸æœºæç¤ºã€‚ ç‚¹å‡»"OK"ï¼Œç„¶åæ‹æ‘„ç›¸æœºç…§ç‰‡ã€‚ ä¹‹åï¼Œç…§ç‰‡åº”å‡ºç°åœ¨åº”ç”¨ç¨‹åºä¸­ã€‚

![Android ç›¸æœºæƒé™](/docs/assets/img/guides/first-app-cap-ng/android-permissions-photo.png)

æˆ‘ä»¬çš„ç…§ç‰‡åº“åº”ç”¨ç¨‹åºåˆšåˆšéƒ¨ç½²åˆ° Android å’Œ iOS è®¾å¤‡ã€‚ ğŸ‰

åœ¨æœ¬æ•™ç¨‹çš„æœ€åéƒ¨åˆ†ï¼Œ æˆ‘ä»¬å°†ä½¿ç”¨ Ionic CLI Live Reload åŠŸèƒ½æ¥å¿«é€Ÿæ‰§è¡Œç…§ç‰‡åˆ é™¤ - ä»è€Œå®Œæˆæˆ‘ä»¬çš„ç…§ç‰‡åº“åŠŸèƒ½ã€‚