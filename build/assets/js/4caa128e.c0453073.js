(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[2557],{79922:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return p},default:function(){return c}});var o=t(22122),r=t(19756),a=(t(67294),t(3905)),i={disableHtmlPreviews:!0},s={unversionedId:"troubleshooting/build",id:"troubleshooting/build",isDocsHomePage:!1,title:"Build Errors",description:"Common mistakes",source:"@site/docs/troubleshooting/build.md",sourceDirName:"troubleshooting",slug:"/troubleshooting/build",permalink:"/docs/troubleshooting/build",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/docs/troubleshooting/build.md",version:"current",frontMatter:{disableHtmlPreviews:!0},sidebar:"docs",previous:{title:"Debugging",permalink:"/docs/troubleshooting/debugging"},next:{title:"Runtime Issues",permalink:"/docs/troubleshooting/runtime"}},p=[{value:"Common mistakes",id:"common-mistakes",children:[{value:"Forgetting Parentheses on a Decorator",id:"forgetting-parentheses-on-a-decorator",children:[]}]},{value:"Common Errors",id:"common-errors",children:[{value:"Cannot Resolve all Parameters",id:"cannot-resolve-all-parameters",children:[]},{value:"No provider for ParamType",id:"no-provider-for-paramtype",children:[]},{value:"Can&#39;t bind to &#39;propertyName&#39; since it isn&#39;t a known property",id:"cant-bind-to-propertyname-since-it-isnt-a-known-property",children:[]},{value:"No provider for ControlContainer",id:"no-provider-for-controlcontainer",children:[]},{value:"No Component Factory Found",id:"no-component-factory-found",children:[]}]}],l={toc:p};function c(e){var n=e.components,t=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,o.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"common-mistakes"},"Common mistakes"),(0,a.kt)("h3",{id:"forgetting-parentheses-on-a-decorator"},"Forgetting Parentheses on a Decorator"),(0,a.kt)("p",null,"Decorators should have parentheses ",(0,a.kt)("inlineCode",{parentName:"p"},"()")," after an annotation. Some examples include: ",(0,a.kt)("inlineCode",{parentName:"p"},"@Injectable()"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"@Optional()"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"@Input()"),", etc."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@Directive({\n  selector: 'my-dir'\n})\nclass MyDirective {\n  // Wrong, should be @Optional()\n  // @Optional does nothing here, so MyDirective will error if parent is undefined\n  constructor( @Optional parent: ParentComponent) { }\n}\n")),(0,a.kt)("h2",{id:"common-errors"},"Common Errors"),(0,a.kt)("h3",{id:"cannot-resolve-all-parameters"},"Cannot Resolve all Parameters"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"Cannot resolve all parameters for 'YourClass'(?). Make sure that all the parameters are decorated with Inject or have valid type annotations and that 'YourClass' is decorated with Injectable.\n")),(0,a.kt)("p",null,"This exception means that Angular is confused about one or more of the parameters for ",(0,a.kt)("inlineCode",{parentName:"p"},"YourClass"),"'s constructor. In order to do ",(0,a.kt)("a",{parentName:"p",href:"https://angular.io/docs/ts/latest/guide/dependency-injection.html"},"dependency injection")," Angular needs to know the type of the parameter to inject. You let Angular know this by specifying the class of the parameter. Make sure:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You are importing the parameter's class."),(0,a.kt)("li",{parentName:"ul"},"You have properly annotated the parameter or specified its type.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { MyService } from 'my-service'; // Don't forget to import me!\n\n@Component({\n  template: `Hello World`\n})\nexport class MyClass {\n  // service is of type MyService\n  constructor(service: MyService) {\n\n  }\n}\n")),(0,a.kt)("p",null,"Sometimes circular references within your code can cause this error. Circular references mean that two objects depend on each other, and so there is no way to declare both of them before each other. To get around this, we can use the ",(0,a.kt)("a",{parentName:"p",href:"https://angular.io/docs/ts/latest/api/core/index/forwardRef-function.html"},(0,a.kt)("inlineCode",{parentName:"a"},"forwardRef"))," function built in to Angular."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { forwardRef } from '@angular/core';\n\n@Component({\n  selector: 'my-button',\n  template: `<div>\n               <icon></icon>\n               <input type=\"button\" />\n             </div>`,\n  directives: [forwardRef(() => MyIcon)] // MyIcon has not been defined yet\n})                                       // forwardRef resolves as MyIcon when MyIcon is needed\nclass MyButton {\n  constructor() { }\n}\n\n@Directive({\n  selector: 'icon'\n})\nclass MyIcon {\n  constructor(containerButton: MyButton) { } // MyButton has been defined\n}\n")),(0,a.kt)("h3",{id:"no-provider-for-paramtype"},"No provider for ParamType"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"No provider for ParamType! (MyClass -> ParamType)\n")),(0,a.kt)("p",null,"This means Angular knows the type of parameter it is supposed to inject, but it doesn't know how to inject it."),(0,a.kt)("p",null,"If the parameter is a service, make sure you have added the specified class to the list of providers available to your app:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { MyService } from 'my-service';\n\n@Component({\n  templateUrl: 'app/app.html',\n  providers: [MyService] // Don't forget me!\n})\nclass MyApp { }\n")),(0,a.kt)("p",null,"If the parameter is another component or directive (for example, a parent component), adding it to your list of providers will make the error go away, but this will have the same effect as the ",(0,a.kt)("a",{parentName:"p",href:"#multiple_instances"},"Multiple instances of a provider")," above. You'll be creating a new instance of the component class, and you won't get a reference to the component instance you want. Instead, make sure that the directive or component you expect to be injected is available to your component (e.g. that it is actually a parent if you are expecting it to be a parent). This is probably easiest understood with an example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@Component({\n  selector: 'my-comp',\n  template: '<p my-dir></p>',\n  directives: [forwardRef(() => MyDir)]\n})\nclass MyComp {\n  constructor() {\n    this.name = 'My Component';\n  }\n}\n\n@Directive({\n  selector: '[my-dir]'\n})\nclass MyDir {\n  constructor(c: MyComp) { // <-- This is the line of interest\n\n    // Errors when directive is on regular div because there is no MyComp in the\n    // component tree so there is no MyComp to inject\n    console.log('Host component\\'s name: ' + c.name);\n\n  }\n}\n\n@Component({\n  template: \"<my-comp></my-comp>\" + // No error in MyDir constructor, MyComp is parent of MyDir\n  \"<my-comp my-dir></my-comp>\" + // No error in MyDir constructor, MyComp is host of MyDir\n  \"<div my-dir></div>\", // Errors in MyDir constructor\n  directives: [MyComp, MyDir]\n})\nclass MyApp { }\n")),(0,a.kt)("p",null,"Here's a diagram illustrating what injectors are available:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"                 +-------+\n                 |  App  |\n                 +---+---+\n                     |\n       +-------------+------------+\n       |                          |\n+------+------+          +--------+--------+\n| Div (MyDir) |          | MyComp (MyDir)  |  <- MyComp can be injected\n+-------------+          +--------+--------+\n       ^                          |\nNo MyComp to inject        +------+------+\n                           | P (MyDir)   | <- MyComp can be injected from parent\n                           +-------------+\n")),(0,a.kt)("p",null,"To expand on the previous example, you can use the Angular ",(0,a.kt)("inlineCode",{parentName:"p"},"@Optional")," annotation if you don't always expect a component/directive reference:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@Directive({\n  selector: '[my-dir]'\n})\nclass MyDir {\n  constructor(@Optional() c: MyComp) {\n    // No longer errors if c is undefined\n    if (c) {\n      console.log(`Host component's name: ${c.name}`);\n    }\n  }\n}\n")),(0,a.kt)("h3",{id:"cant-bind-to-propertyname-since-it-isnt-a-known-property"},"Can't bind to 'propertyName' since it isn't a known property"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"Can't bind to 'propertyName' since it isn't a known property of the 'elementName' element and there are no matching directives with a corresponding property\n")),(0,a.kt)("p",null,"This happens when you try and bind a property on an element that doesn't have that property. If the element is a component or has one or more directives on it, neither the component nor the directives have that property either."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"\x3c!-- div doesn't have a 'foo' property --\x3e\n<div [foo]=\"bar\"></div>\n")),(0,a.kt)("h3",{id:"no-provider-for-controlcontainer"},"No provider for ControlContainer"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"No provider for ControlContainer! (NgControlName -> ControlContainer)\n")),(0,a.kt)("p",null,"This error is a more specific version of the ",(0,a.kt)("inlineCode",{parentName:"p"},"No provider")," error above.  It happens when you use a form control like NgControlName without specifying a parent ",(0,a.kt)("a",{parentName:"p",href:"https://angular.io/docs/ts/latest/api/forms/index/NgForm-directive.html"},"NgForm")," or NgFormModel.  In most cases, this can be resolved by making sure your form control is within an actual form element.  NgForm uses ",(0,a.kt)("inlineCode",{parentName:"p"},"form")," as a selector so this will instantiate a new NgForm:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@Component({\n  template:\n  '<form>' +\n  '<input ngControl=\"login\">' +\n  '</form>'\n})\n")),(0,a.kt)("h3",{id:"no-component-factory-found"},"No Component Factory Found"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"No component factory found for <component name>\n")),(0,a.kt)("p",null,"This error happens when you are trying to use a component, provider pipe or directive that has not been imported and added to your ngModule. Whenever you add a new component, provider, pipe or directive to your app, you must add it to the ",(0,a.kt)("inlineCode",{parentName:"p"},"ngModule")," in the ",(0,a.kt)("inlineCode",{parentName:"p"},"src/app/app.module.ts")," file for Angular to be able to use it. To fix this error you can import the offending component, provider, pipe or directive into the app.module file and then if it is a provider add it to the ",(0,a.kt)("inlineCode",{parentName:"p"},"providers")," array and for a component, pipe or directive add it to both the declarations array and ",(0,a.kt)("inlineCode",{parentName:"p"},"entryComponents")," array."))}c.isMDXComponent=!0}}]);